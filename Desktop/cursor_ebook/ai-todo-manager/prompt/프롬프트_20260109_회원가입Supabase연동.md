# 프롬프트 - 회원가입 페이지 Supabase 연동

**작성 시각**: 2026-01-09 14:16:45

## 요청 내용

@app/signup/page.tsx 파일에 Supabase 회원가입 기능 추가

### 필요한 기능
1. **폼 데이터 수집 및 유효성 검사**
   - 이메일 형식 검증
   - 최소 비밀번호 길이 (6자 이상)
   - 이름 필드 추가

2. **Supabase signUp 함수 호출**
   - 이름/이메일/비밀번호 기반 회원가입
   - user_metadata에 display_name 저장

3. **성공 시 처리**
   - 이메일 확인 흐름을 고려한 안내 메시지 표시
   - 메인 페이지(/)로 이동

4. **실패 시 처리**
   - 오류 메시지를 화면에 표시
   - 사용자 친화적 문구 사용

5. **로딩 상태 처리**
   - 제출 중 중복 클릭 방지 (버튼 비활성화)
   - 스피너/텍스트 피드백 제공

### 구현 조건
- 화면 레이아웃과 스타일은 그대로 유지
- 기능만 구현
- 기능 구현을 위해 필요한 최소한의 UI 보완은 허용

## 결과

다음 파일을 수정:
- `app/signup/page.tsx`: Supabase 회원가입 기능 구현
- `prompt/프롬프트_20260109_회원가입Supabase연동.md`: 프롬프트 파일
- `개발일지/20260109_회원가입Supabase연동.md`: 개발일지

### 주요 변경사항

1. **Import 추가**
   - `useRouter` from "next/navigation"
   - `createClient` from "@/lib/supabase/client"

2. **상태 추가**
   - `name`: 이름 입력 필드

3. **handleSignup 함수 구현**
   - 이메일 형식 검증 (정규식)
   - Supabase `signUp` 메서드 호출
   - display_name을 user_metadata에 저장
   - 사용자 친화적 에러 메시지
   - 성공 시 1.5초 후 메인 페이지(/)로 리다이렉트

4. **UI 추가**
   - 이름 입력 필드 추가 (이메일 필드 앞)

## 특이사항

- 회원가입 성공 시 Supabase가 자동으로 세션 생성
- `schema.sql`의 `handle_new_user()` 트리거가 자동으로 `public.users` 테이블에 프로필 생성
- 이메일 확인이 필요한 경우 Supabase 설정에 따라 다르게 동작할 수 있음
