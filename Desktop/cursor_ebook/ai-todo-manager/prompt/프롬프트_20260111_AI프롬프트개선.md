# 프롬프트: AI 프롬프트 개선 (날짜 처리 및 분석 정교화)

**작성시각**: 2026-01-11 20:26

## 사용자 요청

### 1. 날짜 처리 개선
```
- "오늘 ~까지" 시간 미명시 시 23:59로 설정
- "다음 주까지" 정의 명확화
```

### 2. AI 분석 프롬프트 정교화
```
1. 완료율 분석
 - 일일 및 주간 완료율 계산
 - 우선순위별 완료 패턴 분석
 - 이전 기간 대비 개선도 비교

2. 시간 관리 분석
 - 마감일 준수율 계산
 - 연기된 할 일의 빈도 및 패턴 파악
 - 시간대별 업무 집중도 분포 분석

3. 생산성 패턴
 - 가장 생산적인 요일과 시간대 도출
 - 자주 미루는 작업 유형 식별
 - 완료하기 쉬운 작업의 공통 특징 도출

4. 실행 가능한 추천
 - 구체적인 시간 관리 팁 제공
 - 우선순위 조정 및 일정 재배치 제안
 - 업무 과부하를 줄이는 분산 전략 포함

5. 긍정적인 피드백
 - 사용자가 잘하고 있는 부분 강조
 - 개선점을 격려하는 긍정적 톤으로 제시
 - 동기부여 메시지 포함

6. 기간별 차별화
 - 오늘의 요약: 당일 집중도와 남은 할 일 우선순위 제시
 - 이번 주 요약: 주간 패턴 분석 및 다음주 계획 제안
```

## 구현 내용

### 1. 날짜 처리 규칙 개선 (`app/api/generate-todo/route.ts`)

**"오늘 ~까지" 시간 처리**:
```typescript
- **중요**: "오늘 ~까지", "오늘 중", "오늘 안에" 등 오늘 마감이면서 시간 미명시 → **23:59** (당일 자정)
- 기타 시간 미명시 → **09:00 기본값**
```

**"다음 주까지" 정의**:
```typescript
- **"다음 주까지", "다음주까지"** → 다음 주 일요일 (다음 주의 마지막 날)
```

### 2. AI 분석 프롬프트 정교화 (`app/api/analyze-todos/route.ts`)

**분석 가이드라인 추가**:
```typescript
## 분석 가이드라인

### 1. 완료율 분석
- ${period === 'today' ? '일일' : '주간'} 완료율 (${completionRate}%)을 평가하고 격려
- 우선순위별 완료 패턴 파악
- 완료율이 높으면 칭찬, 낮으면 격려와 함께 개선 방향 제시

### 2. 시간 관리 분석
- 마감일 준수율 계산
- 연기된 할 일의 빈도와 패턴 파악
- 시간대별 업무 집중도 분석
- 가장 효율적인 시간 활용 방법 제안

### 3. 생산성 패턴
- 가장 생산적인 시간대 도출
- 자주 미루는 작업 유형 식별
- 완료하기 쉬운 작업의 특징 도출
- 업무 과부하 여부 판단

### 4. 실행 가능한 추천
- 구체적인 시간 관리 팁
- 우선순위 조정 제안
- 일정 재배치 전략
- 업무 분산 전략

### 5. 긍정적인 피드백
- 잘하고 있는 부분 강조
- 개선점을 격려하는 톤
- 동기부여 메시지
- 성취감 부여

### 6. 기간별 차별화
오늘의 요약:
- 당일 집중도 분석
- 남은 할 일 우선순위
- 현실적인 목표 제안
- 내일 준비 사항

이번 주 요약:
- 주간 패턴 분석
- 이번 주 성과 요약
- 다음 주 계획 제안
- 주말 활용 방법
```

## 검증 방법

### 날짜 처리 테스트
1. "오늘 인프런 ai교재 배포 전까지 완료하기"
   - 예상: `2026-01-11 23:59`
   
2. "다음주까지 패캠 강의 완강하기"
   - 예상: `2026-01-19 23:59` (다음 주 일요일)

3. "오늘 오후 10시반 취침"
   - 예상: `2026-01-11 22:30`

### AI 분석 테스트
1. "오늘의 요약" 클릭
   - 완료율 분석 확인
   - 긍정적 피드백 확인
   - 구체적 추천사항 확인

2. "이번 주 요약" 클릭
   - 주간 패턴 분석 확인
   - 다음 주 계획 제안 확인

## 성공 확인

✅ 날짜 처리 정확도 향상
✅ AI 분석 품질 대폭 개선
✅ 실용적이고 동기부여되는 조언 제공
✅ 기간별 차별화된 인사이트 제공

## 참고 문서
- 개발일지: `개발일지/20260111_AI프롬프트개선.md`
- API Route (생성): `app/api/generate-todo/route.ts`
- API Route (분석): `app/api/analyze-todos/route.ts`
