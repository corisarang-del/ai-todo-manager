# Supabase 초기 설정

**작성시각**: 2026-01-09 07:57

## 해결하고자 한 문제

AI 할 일 관리 프로젝트에 Supabase 데이터베이스 연결을 위한 초기 설정 파일 생성

### 요구사항
- 서버 컴포넌트용 Supabase 클라이언트 (`lib/supabase/server.ts`)
- 클라이언트 컴포넌트용 Supabase 클라이언트 (`lib/supabase/client.ts`)
- 환경변수 참조 (`.env.local`)
- 기존 화면/로직 수정 없이 초기화 코드만 작성

## 해결된 것

✅ **`lib/supabase/server.ts` 생성**
- `@supabase/ssr`의 `createServerClient` 사용
- Next.js의 `cookies()` API를 활용한 서버 사이드 인증 상태 관리
- 쿠키 읽기/쓰기 헬퍼 함수 구현

✅ **`lib/supabase/client.ts` 생성**
- `@supabase/ssr`의 `createBrowserClient` 사용
- 브라우저 환경에서의 간단한 클라이언트 생성

✅ **환경변수 참조**
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`

## 해결되지 않은 것

없음

## 향후 개발을 위한 컨텍스트 정리

### 사용 방법

**서버 컴포넌트에서**:
```typescript
import { createClient } from '@/lib/supabase/server'

export default async function ServerComponent() {
  const supabase = await createClient()
  const { data } = await supabase.from('todos').select()
  // ...
}
```

**클라이언트 컴포넌트에서**:
```typescript
'use client'
import { createClient } from '@/lib/supabase/client'

export default function ClientComponent() {
  const supabase = createClient()
  // ...
}
```

### 환경변수 설정 필요

`.env.local` 파일에 다음 환경변수가 설정되어 있어야 함:
```
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### 다음 단계

1. Supabase 프로젝트에서 데이터베이스 스키마 설계 (todos 테이블 등)
2. 인증 기능 구현 (로그인/회원가입)
3. CRUD 작업 구현
